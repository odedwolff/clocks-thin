

<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>timers</title>
        <meta name="description" content="The HTML5 Herald">
        <meta name="author" content="SitePoint">

        <script src="http://code.jquery.com/jquery-latest.js"></script>
<!--         <link rel="stylesheet" href="css/p1.css">
 -->    
        <link rel="stylesheet" href="css/p1_rel.css">    
        <link rel="stylesheet" href="css/dials.css">

        <script>
           /*  global scope vars */
            /*  button control funcitons */
          // var switchTosingleRing, switchTo3Rings, switchToRingsCrossing, switchToAccumulator,  startMasksClock, stopTick, toggleAboutContentShow;
          var expFuncs={
            /* showAboutContent:showAboutContent, 
            hideAboutContent:hideAboutContent */
          };
        </script>

        <script src="scripts/elm_rendrers.js"></script>
        <script src="scripts/projectors.js"></script>
        <script src="scripts/displace_funcs.js"></script>
        <script src="scripts/masks_ticker.js"></script>
        <script src="scripts/rings_controls.js"></script>

        <!--[if lt IE 9]>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
              
        <![endif]-->
    </head>

    <body>
        <div id = root>         
            <div id = mainHorz> 
                <div id="leftSideBar">
                    <div id=divSwitchUI>
                        <button id=btnSwitchDesign onclick="switchUiDesign()"></button>
                        <label id=lblSwitch>switch UI</label>
                    </div>   
                    

                    
                    <div id = buttonsPanel1 class=buttonPanelSmp>
                        <label id=lblModeSimple class="lblSwitchTitelAlt">
                            MODE
                         </label>
                        
                        <button id=btnSingeRing class="controlButton">single Ring</button>
                        <button id=btn3Rings class="controlButton">3 rings</button>
                        <button id=btnRingCrossing class="controlButton">rings crossing</button>
                        <button id=btnAccumalator class="controlButton">accumalator</button>
                        <button id=btnMasks class="controlButton">masks</button>
                        <button id=stop	 class="controlButton">stop</button>
                        <button id=btnAbout	 class="controlButton">about</button>
                    </div>
                    <div id=aboutContent>
                        a demonstration of a bunch of design ideas for 
                        clocks, implmented in HTML5, SVG. 
                        by oded wolff, 2017. 
                        your feeback is welcome
                        <a href="mailto:odedwolff@gmail.com">odedwolff@gmail.com</a>
                    </div>
                    <div id=fpsSlider class=buttonPanelSmp>
                        <label id=lblFrameRateUISimp class="lblSwitchTitelAlt">FRAME RATE</label>
                        <input type="range" id="fpsSlide" name="fpsSlide"  onchange="fpsSlideChange()" min="1" max="20">
                    </div>
                    <div id=simpUIControls class=buttonPanelSmp>
                        <label id=lblSimpleMoreControls class="lblSwitchTitelAlt">MORE</label>
                        <button class=controlButton  onclick="switchUiDesign()"> 
                            switch ui
                        </button>
                        <button class=controlButton>what's frame rate</button>
                    </div>

                    

                    <div id=divRingsOOP>
                        <div id=divRingsOutOfPhase>
                        
                            <div id=divPathOOPOuter class=divPathOOP>
                                 <svg class=svgOverPathOOP viewBox="50 50 100 100">
                                     <path id=pathOOPRingOuter d="m124.51 100.49a22.385 22.385 0 01-15.637 21.344 22.385 22.385 0 01-25.064-8.4758 22.385 22.385 0 01.52596-26.453 22.385 22.385 0 0125.381-7.4728" style="fill:none;stroke-width:5.8488"/>
                                </svg>
                                <div id=divPivotGuideOuter class=clsPivotGuide></div>
                            </div>
                            <div id=divPathOOPMidr class=divPathOOP> 
                                <svg class=svgOverPathOOP viewBox="50 50 100 100">
                                    <path id=pathOOPRingMid d="m100 100a15.375 15.375 0 01-10.74 14.66 15.375 15.375 0 01-17.216-5.8216 15.375 15.375 0 01.36126-18.17 15.375 15.375 0 0117.433-5.1327" style="fill:none;stroke-width:5.228"/>
                                </svg>
                                <div id=divPivotGuideMid class=clsPivotGuide></div>
                            </div>
                            <div id=divPathOOPInner class=divPathOOP>   
                                <svg class=svgOverPathOOP viewBox="50 50 100 100"> 
                                    <path id=pathOOPRingInnder  d="m111.1 100.24a7.9028 7.9028 0 01-5.5206 7.5352 7.9028 7.9028 0 01-8.8488-2.9923 7.9028 7.9028 0 01.18569-9.3392 7.9028 7.9028 0 018.9608-2.6382" style="fill:none;stroke-width:7.1828"/>
                               </svg>
                               <div id=divPivotGuideInner class=clsPivotGuide></div>
                            </div> 
                           
                            <svg width="100" height="100" id=svgDialRingOOP> 
                                <circle id=circleDialOOP  cx="50" cy="50" r="10"
                                stroke="black" stroke-width="2" fill="grey"/> 
                            </svg>  

                            <div id=divGuideOOP>

                            </div>
                            
                        </div>
                    </div>

                    <div id=div3Rings>
                        <div id=divSprite2>
                            <div id=div3RingsStaticBG>
                                <svg  id=svg3RingRoot version="1.1" viewBox="-54 -54 105 106" xmlns="http://www.w3.org/2000/svg" >
                                    <circle  id=frStaticRingOuter r="51.467" style="fill-rule:evenodd;stroke-width:1.1347"/>
                                    <circle  id=frStaticRingMid r="39.445" style="fill-rule:evenodd;stroke-width:.86965"/>
                                    <circle  id=frStaticRingInner r="27.306" style="fill-rule:evenodd;stroke-width:.60202"/>
                                    <circle  r="39.557" style="fill:none;stroke-width:.99784;stroke:#000"/>
                                    <circle  r="27.591" style="fill:none;stroke-width:.86461;stroke:#000"/>
                                    <circle  r="15.691" style="fill-rule:evenodd;fill:#1e5837;stroke-width:.3958"/>
                                </svg>
                            </div>
                            <svg class=rings3Elm>
                                <path  id=pathInner d="m103.74 113.02c-3.9035 0-7.5702 1.0103-10.759 2.779a6.594 6.594 0 01.52033.34437c3.0492-1.6372 6.5345-2.5687 10.239-2.5688.68737 0 1.3667.0343 2.0377.098a6.594 6.594 0 011.0188-.43843c-.99972-.13765-2.019-.21407-3.0565-.21407zm10.531 2.6522a6.594 6.594 0 01.56565.95724c1.3307.79471 2.563 1.7344 3.6892 2.7863a.66074.66074 0 01.45704-.33703c-1.41-1.3296-2.992-2.4788-4.7116-3.4064zm5.4856 4.184a.66074.66074 0 01-.33164.4497c.27824.29244.54635.59537.80851.90281a.55819.55819 0 01.41885-.35907c-.28952-.33898-.58658-.67194-.89552-.99339zm1.5173 1.7549a.55819.55819 0 01-.43499.33898c.25424.32674.48937.66886.72514 1.0098a.55819.55819 0 01.46928-.28853c-.24737-.35809-.49221-.71775-.75958-1.0605zm1.2854 1.8545a.55819.55819 0 01-.45312.31694c2.0849 3.3257 3.3048 7.247 3.3048 11.464 0 2.2841-.36397 4.4804-1.0206 6.5461a.70322.70322 0 01.0744-.005.70322.70322 0 01.45507.16704c.67322-2.1179 1.0479-4.3687 1.0479-6.7093 0-4.3336-1.2586-8.3653-3.4081-11.782zm-38.528 1.5083c-.28608.54786-.54217 1.1127-.78314 1.686a6.594 6.594 0 01.1308-.005 6.594 6.594 0 01.45851.0245c.1739-.40315.35759-.80239.55476-1.1928a6.594 6.594 0 01-.36054-.51127zm-2.0521 14.715c.1793.87489.39288 1.7377.67078 2.5725a6.594 6.594 0 01.45851-.37181c-.22044-.68566-.39483-1.3913-.54742-2.1047a6.594 6.594 0 01-.58192-.0961zm41.991 3.3013c-.39678 1.0332-.86039 2.0333-1.4032 2.9839a.55819.55819 0 01.46782.29734c.56156-.97967 1.0403-2.0107 1.4503-3.0763a.70322.70322 0 01-.0197 0 .70322.70322 0 01-.49492-.20525zm-1.9089 3.8232c-1.4328 2.2651-3.2668 4.2511-5.4132 5.8447a3.5691 3.5691 0 01.29883.46243c2.2185-1.6422 4.1144-3.692 5.5926-6.0313a.55819.55819 0 01-.47859-.2758zm-31.297 5.7939a6.594 6.594 0 01-.49667.31206c3.739 2.855 8.4074 4.5539 13.473 4.5539 2.3979 0 4.7049-.38456 6.8689-1.0878a3.5691 3.5691 0 01-.20133-.51661c-2.1012.67871-4.3399 1.0496-6.6676 1.0496-4.8675 0-9.3592-1.6038-12.976-4.3109z" style="color-rendering:auto;color:#000000;dominant-baseline:auto;fill-rule:evenodd;font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;image-rendering:auto;isolation:auto;mix-blend-mode:normal;shape-padding:0;shape-rendering:auto;solid-color:#000000;text-decoration-color:#000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/>
                            </svg>
                            <svg class=rings3Elm>
                                <path  id=pathMid d="m104.73 101.07a3.3539 3.3539 0 01.13818.87867c2.6637.14696 5.2409.60924 7.703 1.3381a1.5279 1.5279 0 010-.01 1.5279 1.5279 0 01.24541-.82483c-2.583-.7659-5.2884-1.2464-8.0864-1.386zm-6.5007.28559c-7.9672 1.0932-15.072 4.8873-20.363 10.435a3.4452 3.4452 0 01.64108.57122c5.1175-5.3553 11.973-9.029 19.664-10.124a3.3539 3.3539 0 01-.01-.21946 3.3539 3.3539 0 01.0661-.66303zm17.391 2.067a1.5279 1.5279 0 01-.32184.80494c5.8719 2.305 10.944 6.1986 14.685 11.16a1.5279 1.5279 0 01.75688-.42521c-3.8421-5.1307-9.0673-9.159-15.12-11.54zm-41.984 13.782c-.32282.50965-.62028 1.0367-.9167 1.5638a1.5279 1.5279 0 01.74685.4252c.28363-.50451.56673-1.0098.8748-1.4979a3.4452 3.4452 0 01-.70495-.49124zm58.716.0877a1.5279 1.5279 0 01-.66509.55717c.41148.65935.80602 1.3304 1.1723 2.0192a1.5279 1.5279 0 01.76492-.39728c-.39582-.7443-.82507-1.4681-1.2722-2.1789zm-60.987 4.1121c-.27139.59626-.52293 1.2036-.76091 1.8174a1.5279 1.5279 0 01.77893.37524c.23808-.61846.49006-1.231.76286-1.8314a1.5279 1.5279 0 01-.78088-.36152zm63.541.72897a1.5279 1.5279 0 01-.79285.34927c.3096.72695.5994 1.4648.85877 2.2168a4.8203 4.8203 0 01.84674-.1935c-.27531-.80489-.58109-1.5956-.91266-2.3726zm-65.263 3.9444c-.62162 2.1425-1.0327 4.3735-1.2322 6.6644a1.5279 1.5279 0 01.58117-.11604 1.5279 1.5279 0 01.29539.0293c.20281-2.2013.6018-4.345 1.2043-6.4047a1.5279 1.5279 0 01-.13375.01 1.5279 1.5279 0 01-.71502-.17782zm67.999 7.8707a4.8203 4.8203 0 01-.8628.13769c.0244.54771.0441 1.0975.0441 1.6517 0 7.8296-2.6627 15.031-7.1239 20.764a5.2077 5.2077 0 01.48938.76693c4.692-5.9182 7.5012-13.395 7.5012-21.531 0-.60027-.0197-1.1966-.0441-1.7894zm-69.367 1.5538c-.000541.0793-.0098.1567-.0098.23562 0 11.906 5.9996 22.411 15.138 28.663a5.3624 5.3624 0 01.33948-.81277c-8.8296-6.1067-14.617-16.298-14.617-27.85 0-.0244.0014-.0441.0014-.0636a1.5279 1.5279 0 01-.13769.01 1.5279 1.5279 0 01-.71702-.1798zm53.893 28.112c-1.8596 1.2824-3.8624 2.368-5.9654 3.2633a2.3026 2.3026 0 01.32576.79686c2.2561-.96048 4.3964-2.1394 6.3789-3.533a5.2077 5.2077 0 01-.73896-.52719zm-28.759 4.5914a5.3624 5.3624 0 01-.42373.77295c3.1639.94956 6.5148 1.4659 9.9876 1.4659 3.2064 0 6.31-.43841 9.2568-1.2542a2.3026 2.3026 0 01-.24787-.84481c-2.8706.79254-5.8856 1.2383-9.0092 1.2383-3.3228 0-6.5307-.48643-9.5642-1.3781z" style="color-rendering:auto;color:#000000;dominant-baseline:auto;fill-rule:evenodd;font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;image-rendering:auto;isolation:auto;mix-blend-mode:normal;shape-padding:0;shape-rendering:auto;solid-color:#000000;text-decoration-color:#000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/>
                            </svg>
                            <svg class=rings3Elm>
                                <path id=pathOuter  d="m102.81 88.443c-7.2816 0-14.159 1.7005-20.283 4.705a1.6955 1.6955 0 01.67374.95513c5.9281-2.8764 12.574-4.5034 19.609-4.5034.0598 0 .11802.0098.17734.0098a1.6955 1.6955 0 01-.071-.48545 1.6955 1.6955 0 01.13769-.66935c-.0823-.000441-.16162-.0098-.24395-.0098zm3.4086.14206a1.6955 1.6955 0 01.0887.53635 1.6955 1.6955 0 01-.12195.62276c.80754.0627 1.6131.13423 2.409.23709a1.6955 1.6955 0 01-.0197-.266 1.6955 1.6955 0 01.24395-.86872c-.85808-.11267-1.7258-.19496-2.5973-.26159zm5.7068.78451a1.6955 1.6955 0 01.0392.34584 1.6955 1.6955 0 01-.19936.79784c.55495.11267 1.1124.21799 1.6599.35025a5.9336 5.9336 0 01.46096-1.0726c-.64608-.15921-1.3029-.28902-1.9592-.42128zm12.918 4.6652a5.9336 5.9336 0 01-.38308 1.1036c2.7929 1.5323 5.4088 3.3465 7.8032 5.4119a8.0612 8.0612 0 011.0971-.56735c-2.5975-2.2861-5.4538-4.284-8.5169-5.9482zm-44.976.52072c-2.1545 1.2369-4.2031 2.6387-6.1234 4.1931a5.3427 5.3427 0 01.84438.79789c1.7903-1.4386 3.6975-2.7365 5.6957-3.8939a1.6955 1.6955 0 01-.41637-1.097zm-13.556 11.737c-2.0085 2.5758-3.7562 5.3649-5.1903 8.3351a8.0612 8.0612 0 011.1303.30568c1.3571-2.7773 2.9944-5.3908 4.869-7.812a5.3427 5.3427 0 01-.80896-.8289zm76.816 5.7244a8.0612 8.0612 0 01-.78231.94191c3.5593 6.4535 5.5893 13.869 5.5893 21.763 0 .11949-.005.23759-.005.35662a1.6955 1.6955 0 01.62276-.11949 1.6955 1.6955 0 01.5319.0862c.00074-.10769.005-.21505.005-.32331 0-8.2523-2.1729-15.995-5.9616-22.705zm-86.354 18.06c-.15227 1.5283-.23267 3.0769-.23267 4.6452 0 5.3324.91466 10.449 2.5752 15.216a1.6955 1.6955 0 01.96846-.30568 1.6955 1.6955 0 01.13769.005c-1.6345-4.6699-2.5331-9.6862-2.5331-14.915 0-1.454.07392-2.8895.20818-4.3083a8.0612 8.0612 0 01-1.1236-.33752zm91.024 8.0935c-.098 1.2559-.24445 2.498-.44088 3.7233a1.6955 1.6955 0 01.38552-.049 1.6955 1.6955 0 01.76683.18616c.19643-1.2285.34096-2.4732.43893-3.732a1.6955 1.6955 0 01-.39679.049 1.6955 1.6955 0 01-.75352-.17978zm-1.0394 6.7528c-.55158 2.3778-1.2782 4.6879-2.1874 6.9057a18.176 18.176 0 01.69364 1.3142c1.0986-2.5264 1.9655-5.1738 2.6041-7.9097a1.6955 1.6955 0 01-.12638.005 1.6955 1.6955 0 01-.98398-.31498zm-85.437 7.5594a1.6955 1.6955 0 01-1.0195.52529c.80694 1.873 1.7395 3.6787 2.7769 5.4142a5.1956 5.1956 0 01.95077-.6382c-1.0124-1.6996-1.9224-3.4668-2.7082-5.3013zm8.9003 13.448a5.1956 5.1956 0 01-.86437.74239c2.6235 2.7467 5.5827 5.1704 8.8095 7.207a1.6955 1.6955 0 01.81992-.83325c-3.2135-2.0024-6.1594-4.3949-8.765-7.1162zm11.176 8.5079a1.6955 1.6955 0 01.0049.13965 1.6955 1.6955 0 01-.31694.98409c6.4787 3.4565 13.868 5.4296 21.723 5.4296 3.7273 0 7.3471-.45459 10.819-1.2875a1.6955 1.6955 0 01-.33066-.99962 1.6955 1.6955 0 01.003-.1c-3.3673.80583-6.8789 1.241-10.494 1.2411-7.7531 0-15.042-1.9648-21.413-5.4076zm38.276 2.1387c-1.0729.43255-2.1705.81428-3.2822 1.1657a1.6955 1.6955 0 01.29882.96185 1.6955 1.6955 0 01-.005.16852c1.4698-.46195 2.9078-.99546 4.3106-1.5956a18.176 18.176 0 01-1.3209-.70034z" style="color-rendering:auto;color:#000000;dominant-baseline:auto;fill-rule:evenodd;font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;image-rendering:auto;isolation:auto;mix-blend-mode:normal;shape-padding:0;shape-rendering:auto;solid-color:#000000;text-decoration-color:#000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/>
                            </svg>
                            
                              
                            <svg width="800" height="600" id=svgDialRing2> 
                                <circle id=circleDial2 cx="50" cy="50" r="20"
                                stroke="black" stroke-width="2" fill="grey" /> 
                            </svg> 
                            <div id=divGuide2></div>

                            <div id=divTradOffSymbols class='clsTradeOffSymbols disable-select'>
                                <object type="image/svg+xml" data="design/feather.svg" class="objTradeOffSymbol" id=objFeather>
                                    svg not supported <!-- fallback image in CSS -->
                                </object>
                                <object type="image/svg+xml" data="design/elephent.svg" class="objTradeOffSymbol" id=objWeights>
                                    svg not supported <!-- fallback image in CSS -->
                                </object>
                                <object type="image/svg+xml" data="design/sine_smooth_grad.svg" class="objTradeOffSymbol" id=objSineSmooth>
                                    svg not supported <!-- fallback image in CSS -->
                                </object>
                                <object type="image/svg+xml" data="design/sine_desc_grad.svg" class="objTradeOffSymbol" id=objSineDesc>
                                    svg not supported <!-- fallback image in CSS -->
                                </object>
                            </div>

                            <div id=labelMinRadFps class='clsLabelRadFps disable-select'>min</div>
                            <div id=labelMaxRadFps class='clsLabelRadFps disable-select'>max</div>
                            
                        </div>

                        <label id=lblMode class='clsDialLabel disable-select'>Mode</label>
                        <label id=lblFps class='clsDialLabel disable-select'>Frame Rate</label>


                    </div>

                </div>

                
                <div id=divHomeScreen class=themeContainer>
                    <h1>Home</h1>
                </div>
                
                
                
                <!--svg container for different clocks --> 
                <div id = svgCont class = themeContainer>
                    <div id = panel4	class = panelCls>
                        <svg id=svg1 class="gridCell1" viewBox="0 0 800 500" preserveAspectRatio="none">
                        </svg>
                    </div>
                </div>


                <!--svg container for the MASKS clock -->
                <div id = masksContainer class = themeContainer>
                    <div id = panel5	class = panelClsSqr>
                        <!--<svg class="gridCell1" viewBox="0 0 800 500" preserveAspectRatio="none">-->
                        <svg  id=svgMasksBase class="clsSvgMasks" width="800" height="500"  viewBox="0 0 800 500" preserveAspectRatio="none">   
                        
                        <!--a static background hidden by dynamic mask - a plane that covers 
                            the whole background, but has holed in it - rays that are oriented 
                            by a clock dials, through which the background is visible--> 
                            <g id = "gMask" fill-rule="evenodd" fill="#8b1a00" stroke="black" stroke-width="0">
                                
                                <!--the mask definition--> 
                                <defs>
                                    <mask id="clockMask">
                                        <rect id="rectSubt" width="800" height="500" fill="#fff" />
                                        <path id=pathRaySec d= "M50,50 100,100,20,87 z" fill="#000"/>
                                        <path id=pathRayMin d= "M100,50 100,100,20,87 z" fill="#000"/>
                                        <path id=pathRayHr d= "M150,50 100,100,20,87 z" fill="#000"/>
                                    </mask>
                                </defs> 


                                <!--the background elemnt--> 
                                <g transform="scale(0.835, 0.95)" > 
                                     <use xlink:href="resources/balkon.svg#3030"></use>
                                </g>
                                
                                <!--the mask the covers the subject image, from which the dials are subtracting-->  
                                <rect  id = "baseRectClk" y="-10" width="800" height="550"   mask="url(#clockMask)"/>
                        
                                
                            </g>

                        </svg>
                    </div>
                </div>
            </div>




        </div>


        <script>

            var interval;
            var ticksPerSec = 5;
            var currentIntervalFunc; 
            var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            var svgNS = svg.namespaceURI;
            var msIn1Min = 1000 * 60;
            var aboutContentShown = false;
            
            var uiConfig = {
                //0 for simple, 1 for fency 
                currnentMode:1,
                simpleUIElmIDs:['buttonsPanel1','fpsSlider','simpUIControls'],
                fenccyUIElmIDs:['div3Rings', 'divRingsOOP','divSwitchUI']
            }


            
           

            function switchUiDesign(){
                console.log("switchUiDesign()");
                uiConfig.currnentMode =  (uiConfig.currnentMode + 1) % 2;
                applyUiMode( uiConfig.currnentMode);
            }


            function applyUiMode(mode){
                //mode simple
                if(mode == 0){
                    for(i in uiConfig.simpleUIElmIDs){
                        document.getElementById(uiConfig.simpleUIElmIDs[i]).style.display="block";
                    }
                    for(i in uiConfig.fenccyUIElmIDs){
                        document.getElementById(uiConfig.fenccyUIElmIDs[i]).style.display="none";
                    }
                }
                //mode fency 
                else{
                    for(i in uiConfig.simpleUIElmIDs){
                        document.getElementById(uiConfig.simpleUIElmIDs[i]).style.display="none";
                    }
                    for(i in uiConfig.fenccyUIElmIDs){
                        document.getElementById(uiConfig.fenccyUIElmIDs[i]).style.display="block";
                    }

                }
            }

            /**
             * starts the single ring clock
             * **/
            function startTickingFCst1CheckClock(numPracitalPerSecond, panelName) {

                var tick = function () {
                    var d = new Date();
                    var curruentSecProp;
                    var time;
                    d = new Date();
                    time = d.getTime();
                    curruentSecProp = (time % (1000 * 60)) / (1000 * 60);
                    $("#" + panelName).empty();
                    
                    //the displacement function to be projected on the face of the circle 
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    
                    //parameters for the peripherial elements 
                    var dsnParmats = {
                        radiusNormal: 2,
                        radiusFullHr: 4,
                        mnClr: "#EC6F00",
                        hrClr: "#830000",
                        dfltClr: "#FFFFFF"
                    };
                    
                    //create factory for peripherial elements 
                    fElmGenerator = fCircElmColorHrSec.bind(dsnParmats);

                    //project the displacenement function on the circle with proper phase to 
                    //current time 
                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */[450, 250],
                            /*numSections*/ 250, /*outerRadius*/200, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * curruentSecProp - Math.PI / 2,
                            /*circElmFnc*/fElmGenerator, /*time*/ d);

                };
                currentIntervalFunc=tick;
                return setInterval(tick, 1000 / numPracitalPerSecond);
            }

            
            //projects 3 given functions for rendering seconds, minutes with peroper 
            //diplacement according to current time, so that the bump created by 
            //the displacement functino projected on the circle points at current 
            //value of the clock 
            
            function startTicking3porjections(numPracitalPerSecond, panelName,
                    fRenderHr, fRenderMin, fRenderSec) {

                var tick = function () {
                    var d = new Date();
                    $("#" + panelName).empty();
                    fRenderHr(d);
                    fRenderMin(d);
                    fRenderSec(d);


                };
                currentIntervalFunc=tick;
                return setInterval(tick, 1000 / numPracitalPerSecond);
            }

            
            /**
             * starting the 3 circles clock 
             * 
             * defining 3 functions of time, for rendering a circle for seconds, minutes, hours 
             * accordingly 
             * **/
            
            function start3CirclesTicking(numPracitalPerSecond, panelName) {

                var center = [450, 250];

                //parameters for Hour elment rendering  
                var dsnParmasHr = {
                    color: "#FFFFFF",
                    radius: 2
                };

                //function fer rendering hour elements 
                var fElmGeneratorHr = fElmConstant.bind(dsnParmasHr);


                var fRenderHr = function (dateTimeInfo) {
                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var currentHRProp = dateTimeInfo.getHours() / 12 + currentMinProp / 12;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 120, /*outerRadius*/ 86, /*projected fnc*/f,
                            /*zoomX*/3.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * currentHRProp - Math.PI / 2,
                            /*circElmFnc*/fElmGeneratorHr, /*time*/ dateTimeInfo);

                };

                //minutes elements parameters
                var dsnParmasMn = {
                    color: "#FFFFFF",
                    radius: 2
                };
                //minutes element rendering funciton 
                var fElmGeneratorMin = fElmConstant.bind(dsnParmasMn);

                var fRenderMin = function (dateTimeInfo) {

                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 200, /*outerRadius*/ 150, /*projected fnc*/f,
                            /*zoomX*/6.0, /*zoomY*/ 0.015, /*offsetAngleRad*/ Math.PI * 2 * currentMinProp - Math.PI / 2,
                            /*circElmFnc*/fElmGeneratorMin, /*time*/ dateTimeInfo);

                };


                //seconds element parameters
                var dsnParmatsSec = {
                    radiusNormal: 2,
                    radiusFullHr: 4,
                    dfltClr: "#FFFFFF"
                };
                //seconds element rendering function 

                fElmGeneratorSec = fCircElmNoColorHrSec.bind(dsnParmatsSec);
                var fRenderSec = function (dateTimeInfo) {

                    var curruentSecProp = (dateTimeInfo.getTime() % msIn1Min) / msIn1Min;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 220, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * curruentSecProp - Math.PI / 2,
                            /*circElmFnc*/fElmGeneratorSec, /*time*/ dateTimeInfo);

                };

                return startTicking3porjections(numPracitalPerSecond, panelName,
                        fRenderHr, fRenderMin, fRenderSec);

            }


            /**
             * starts a clock with mutually crossing circles
             seconds dial at center and longest, and corsses 2 others. etc. 
             all are pointing out 
    
             functions of time are definned for seconds, minutes, hours, for prperly 
             render a corresponding circle with diplacement bump 
             * **/
            function start3CircCrossingAllOut(numPracitalPerSecond, panelName) {
                var center = [450, 250];

                var dsnParmatsHr = {
                    radiusNormal: 2,
                    radiusFullHr: 4,
                    //dfltClr: "#FFFFFF",
                    dfltClr:"#000000", 
                    cssClass:"cls3CrossingHr"
                };
                var fHrElm = fCircElmNoColorHrSec.bind(dsnParmatsHr);

                var prmsMin = {
                    //color: "red",
                    radius: 2,
                    dfltClr: "#d2dbd5",
                    //color:"#d2dbd5"
                    color: "#000000", 
                    cssClass:"cls3CrossingMin"
                };
                var fMinElm = fElmConstant.bind(prmsMin);

                var prmsSec = {
                    //color: "yellow",
                    //radius: 1.125,
                    radius: 2,
                    dfltClr: "#FFFFFF",
                    color: "#000000", 
                    cssClass:"cls3CrossingSec"
                };
                var fSecElm = fElmConstant.bind(prmsSec);


                var fRenderHr = function (dateTimeInfo) {
                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var currentHRProp = dateTimeInfo.getHours() / 12 + currentMinProp / 12;
                    var f = fCustom1(/*scaleX*/3.0, /*scaleY*/17.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 230, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * currentHRProp - Math.PI / 2,
                            /*circElmFnc*/fHrElm, /*time*/ dateTimeInfo);

                };

                var fRenderMin = function (dateTimeInfo) {

                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/50.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 215, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * currentMinProp - Math.PI / 2,
                            /*circElmFnc*/fMinElm, /*time*/ dateTimeInfo);

                };

                var fRenderSec = function (dateTimeInfo) {

                    var curruentSecProp = (dateTimeInfo.getTime() % msIn1Min) / msIn1Min;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/100.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 200, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * curruentSecProp - Math.PI / 2,
                            /*circElmFnc*/fSecElm, /*time*/ dateTimeInfo);

                };

                return startTicking3porjections(numPracitalPerSecond, panelName,
                        fRenderHr, fRenderMin, fRenderSec);

            }

            /**
             * starts a clock made of 3 gaussians rotating on a common circle pointing at current 
             * second, minute, hour. when overlapping, the displacement functions are summed 
             * (the may be pointing in same of differnet direction - to or from center) 
             * **/
            function startTicking3GsOn2(numPracitalPerSecond, panelName) {

                var center = [450, 250];
                var step = function () {
                    var dateTimeInfo = new Date();
                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var currentHRProp = dateTimeInfo.getHours() / 12 + currentMinProp / 12;
                    var curruentSecProp = (dateTimeInfo.getTime() % msIn1Min) / msIn1Min;
                    //gaus1
                    var context1 = {
                        width: 1.1,
                        height: 20
                    };
                    //a gaussian for the hours 
                    fHr = gausianBump.bind(context1);

                    //gaus2
                    var context2 = {
                        width: .5,
                        height: -40
                    };

                    //a gaussian for the minutes
                    fMin = gausianBump.bind(context2);


                    //gaus3
                    var context3 = {
                        width: .5,
                        height: -20
                    };

                    //a gaussian for the seconds 
                    fSec = gausianBump.bind(context3);


                    //both funcions and offsets array are in the order: hour, minute, second
                    var funcs = [fHr, fMin, fSec];
                    var correctOffset = -Math.PI / 2;
                    var offsets = [2 * Math.PI * currentMinProp + correctOffset, 2 * Math.PI * currentHRProp + correctOffset, 2 * Math.PI * curruentSecProp + correctOffset];


                    //element rendrer
                    context = {
                        color: "#FFFFFF",
                        radius: 2
                    };
                    //function fer rendering hour elements 
                    var fElmGenerator = fElmConstant.bind(context);

                    $("#" + panelName).empty();
                    pojectMultFunctionsOnRadCrd(/*panelName */"svg1", /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 175, /*projected fnc*/funcs,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ offsets,
                            /*circElmFnc*/fElmGenerator, /*time*/ null);
                };

                currentIntervalFunc=step;
                return setInterval(step, 1000 / numPracitalPerSecond);


            }


            //switch active view to masks container 
            function masksPanelOn() {
                $("#svgCont").hide();
                $("#masksContainer").show();
                

            }

            //switch active view to normal svg containter 
            function masksPanelOff() {
                $("#svgCont").show();
                $("#masksContainer").hide();

            }


           


            
            function showAboutContent() {
                //$("#aboutContent").show(400);
                $("#aboutContent").animate({opacity:0.5}, 200 );
            }
            expFuncs.showAboutContent=showAboutContent;

            function hideAboutContent() {
                //$("#aboutContent").hide(400);
                $("#aboutContent").animate({opacity:0}, 400 )
            }

            expFuncs.hideAboutContent=hideAboutContent;
           

            $("#btnAbout").click(toggleAboutContentShow);
            $("#btnMasks").click(startMasksClock);
            $("#btnSingeRing").click(switchTosingleRing);
            $("#btn3Rings").click(switchTo3Rings);
            $("#btnRingCrossing").click(switchToRingsCrossing);
            $("#btnAccumalator").click(switchToAccumulator);
            $("#stop").click(stopTick);


            //slider event handler 
            function fpsSlideChange(){
                val = document.getElementById("fpsSlide").value;
                console.log("slider change, val=" + val );
                //change interval speed 
                clearInterval(interval);
                ticksPerSec=val;
                interval=setInterval(currentIntervalFunc, 1000/val);
            }
            expFuncs.fpsSlideChange = fpsSlideChange;

            function changeFPS(val){
                clearInterval(interval);
                ticksPerSec=val;
                interval=setInterval(currentIntervalFunc, 1000/val);
            }
            expFuncs.changeFPS=changeFPS;



            
            function switchToAccumulator(){
                hideAllMainPanels();
                $("#svgCont").show();
                clearInterval(interval);
                interval = startTicking3GsOn2(ticksPerSec, "svg1");
            }
            expFuncs.switchToAccumulator = switchToAccumulator;

            function switchToRingsCrossing(){
                hideAllMainPanels();
                $("#svgCont").show();
                clearInterval(interval);
                interval = start3CircCrossingAllOut(ticksPerSec, "svg1");
            }
            expFuncs.switchToRingsCrossing = switchToRingsCrossing;

            function switchTo3Rings(){
                hideAllMainPanels();
                $("#svgCont").show();
                clearInterval(interval);
                interval = start3CirclesTicking(ticksPerSec, "svg1");
            }
            expFuncs.switchTo3Rings = switchTo3Rings;

            function switchTosingleRing(){
                hideAllMainPanels();
                $("#svgCont").show();
                clearInterval(interval);
                interval = startTickingFCst1CheckClock(ticksPerSec, "svg1");
            }
            expFuncs.switchTosingleRing = switchTosingleRing;

            function stopTick(){
                clearInterval(interval);
            }
            expFuncs.stop = stopTick;

            function toggleAboutContentShow() {
                if (aboutContentShown) {
                    hideAboutContent();
                    aboutContentShown = false;
                } else {
                    showAboutContent();
                    aboutContentShown = true;

                }
            }
            expFuncs.toggleAboutContentShow = toggleAboutContentShow;

            
            //switchToMaks
            function startMasksClock() {
                clearInterval(interval);
                hideAllMainPanels();
                $("#masksContainer").show();
                interval = startMaskTicking();

            }
            expFuncs.startMasksClock = startMasksClock;

            function switchToHome(){
                console.log("switchToHome()");
                hideAllMainPanels();
                $("#divHomeScreen").show();
               
                /* document.getElementById("divHosvgContmeScreen").style.display = "none";
                document.getElementById("masksContainer").style.display = "none";  */
                //document.getElementById("divHomeScreen").style.display = "block";
              /*   masksPanelOff(); */
            }


            function hideAllMainPanels(){
                $("#svgCont").hide();
                $("#masksContainer").hide();
                $("#divHomeScreen").hide();
            }

            expFuncs.switchToHome =switchToHome;
           


            window.addEventListener("load", onLoad);
            function onLoad(){
                //applyUiMode(uiConfig.currnentMode);
                switchToHome();
                onLoad_ringsControl();
            }
        </script>

    </body>
</html>


















a