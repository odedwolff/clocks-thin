<head>
    <link rel="stylesheet" href="p1.css">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="elm_rendrers.js"></script>
    <script src="displace_funcs.js"></script>

</head>
<body>
    <div id = svgCont>
        <div id = panelTest	class = panelCls>
            <svg id=svg1 class="gridCell1" viewBox="0 0 800 800" preserveAspectRatio="none">
            </svg>
        </div>
    </div>
    <script>

        var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        var svgNS = svg.namespaceURI;



        /**
         * projects a displacemnet math function on a linear array of elements 
         * **/

        function projectDispFuncLinear(func) {
            var elmContext = {
                color: "white",
                radius: 2
            };
            var circleRendrer = fElmConstant.bind(elmContext);
            var circle;
            var y;
            for (var x = -1 * this.xRange / 2; x < this.xRange / 2; x += this.xRange / this.numOfElms) {
                circle = circleRendrer(null, null);
                ///circle.setAttribute('cx', x + 400);
                circle.setAttribute('cx', x + 400);
                y = func(x) * -1;
                circle.setAttribute('cy', y + 400);
                $("#svg1").append(circle);
            }
        }

        var contextProjectLinear = {
            xRange: 700,
            numOfElms: 70
        };
        function testPorjectDispEmpty() {
            projectDispFuncLinear.bind(contextProjectLinear)(null);
        }


        function testSquareBump() {
            var context = {
                width: 90,
                height: 30
            };
            fDisp = squareBump.bind(context);
            projectDispFuncLinear.bind(contextProjectLinear)(fDisp);
        }
        
        function testPiramidBump(){
            var context = {
                width: 90,
                height: 70
            };
            fDisp = pyramidBump.bind(context);
            projectDispFuncLinear.bind(contextProjectLinear)(fDisp);
            
        }

        //testPorjectDispEmpty();
        //testSquareBump();
        testPiramidBump();


    </script>
</body>
