




<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">

        <title>timers</title>
        <meta name="description" content="The HTML5 Herald">
        <meta name="author" content="SitePoint">

        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <link rel="stylesheet" href="p1.css">


        <script src="elm_rendrers.js"></script>
        <script src="projectors.js"></script>
        <script src="displace_funcs.js"></script>
        <script src="masks_ticker.js"></script>
        <!--[if lt IE 9]>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
              
        <![endif]-->
    </head>

    <body>
        <!--  <script src="js/scripts.js"></script>  -->

        <div id = root>
<!--            <div id = divTitle>
                <h1 id=h1text>
                    A Bunch of Clock Designs 
                </h1>
            </div>-->
            
            <div id = aboutContent>
                
            </div>
            
            
            
            <div id = mainHorz>
                
                
                <div id="leftSideBar">
                    <div id = divTitle1>
                        <h1 id=h1text1>
                            A Bunch<br/>of<br/> Clock Designs 
                        </h1>
                    </div>
                    <div id = buttonsPanel1>
                            <button id=btnSingeRing class="controlButton">single Ring</button>
                            <button id=btn3Rings class="controlButton">3 rings</button>
                            <button id=btnRingCrossing class="controlButton">rings crossing</button>
                            <button id=btnAccumalator class="controlButton">accumalator</button>
                            <button id=btnMasks class="controlButton">masks</button>
                            <button id=stop	 class="controlButton">stop</button>
                            <button id=btnAbout	 class="controlButton">about</button>
                    </div>
                </div>
                
                
                <div id = svgCont class = themeContainer>
                    <div id = panel4	class = panelCls>
                        <svg id=svg1 class="gridCell1" viewBox="0 0 800 500" preserveAspectRatio="none">
                        </svg>
                    </div>
                </div>

                <div id = masksContainer class = themeContainer>
                    <div id = panel5	class = panelCls>
<!--                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="1900" width="100%">-->
                        <svg class="gridCell1" viewBox="0 0 800 500" preserveAspectRatio="none">
                            <g fill-rule="evenodd" fill="red" stroke="black" stroke-width="1">
                                <defs>
                                    <mask id="clockMask">
                                        <rect width="100%" height="100%" fill="#fff" />
                                        <path id=pathRaySec d= "M50,50 100,100,20,87 z" fill="#000"/>
                                        <path id=pathRayMin d= "M100,50 100,100,20,87 z" fill="#000"/>
                                        <path id=pathRayHr d= "M150,50 100,100,20,87 z" fill="#000"/>
                                    </mask>
                                </defs> 

                                
                                <!--the background elemnt--> 
<!--                                <svg viewBox="0 0 1600 500" class="cl1"> 
                                    <use xlink:href="balkon.svg#3030"></use>
                                </svg>-->
                                
                                
                                 <g transform="scale(0.8, 0.9)" > 
                                    <use xlink:href="balkon.svg#3030"></use>
                                </g>
                                
                                <!--the mask the covers the subject image, from which the dials are subtracting-->
                                <rect id = "baseRectClk" x="0" y="0" width="100%" height="100%"  fill="red" rx="25" ry="25" mask="url(#clockMask)"/>
                          
                            </g>

                        </svg>
                    </div>
                </div>
            </div>
            
            


        </div>


        <script>

            var interval;
            var ticksPerSec = 5;
            var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            var svgNS = svg.namespaceURI;

            var msIn1Min = 1000 * 60;

            var rect = document.createElementNS(svgNS, 'rect');
            rect.setAttribute('x', 5);
            rect.setAttribute('y', 30);
            rect.setAttribute('width', 70);
            rect.setAttribute('height', 40);
            rect.setAttribute('fill', 'red');


         
            //cos(​t)*​1/​(6+​(t/​2)^​2)
            //decay must be integer !!
            function fCustom1(scaleX, scaleY, decay) {
                var f = function (x) {
                    x = x * scaleX;
                    //x = Math.abs(x);
                    return scaleY * Math.cos(x) / (6 + Math.pow(x / 2, decay));
                    //return scaleY * Math.cos(x) / (6  + (Math.pow(x/2, decay))); 
                }
                return f;
            }


            function startTickingFCst1CheckClock(numPracitalPerSecond, panelName) {

                var tick = function () {
                    var d = new Date();
                    var curruentSecProp;
                    var time;
                    d = new Date();
                    time = d.getTime();
                    curruentSecProp = (time % (1000 * 60)) / (1000 * 60);
                    $("#" + panelName).empty();
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    var dsnParmats = {
                        radiusNormal: 2,
                        radiusFullHr: 4,
                        mnClr: "#EC6F00",
                        hrClr: "#830000",
                        dfltClr: "#FFFFFF"
                    };

                    fElmGenerator = fCircElmColorHrSec.bind(dsnParmats);

                    //pojectFunctionOnRadCrd(/*panelName */panelName, /*center */[450, 400],
                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */[450, 250],
                            /*numSections*/ 250, /*outerRadius*/200, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * curruentSecProp - Math.PI / 2,
                            /*circElmFnc*/fElmGenerator, /*time*/ d);

                };
                return setInterval(tick, 1000 / numPracitalPerSecond);
            }


            function startTicking3porjections(numPracitalPerSecond, panelName,
                    fRenderHr, fRenderMin, fRenderSec) {

                var tick = function () {
                    var d = new Date();
                    $("#" + panelName).empty();
                    fRenderHr(d);
                    fRenderMin(d);
                    fRenderSec(d);


                };
                return setInterval(tick, 1000 / numPracitalPerSecond);
            }

            function start3CirclesTicking(numPracitalPerSecond, panelName) {

                var center = [450, 250];

                //parameters for Hour elment rendering  
                var dsnParmasHr = {
                    color: "#FFFFFF",
                    radius: 2
                };
                
                //function fer rendering hour elements 
                var fElmGeneratorHr = fElmConstant.bind(dsnParmasHr);


                var fRenderHr = function (dateTimeInfo) {
                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var currentHRProp = dateTimeInfo.getHours() / 12 + currentMinProp / 12;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 120, /*outerRadius*/ 86, /*projected fnc*/f,
                            /*zoomX*/3.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * currentHRProp - Math.PI / 2,
                            /*circElmFnc*/fElmGeneratorHr, /*time*/ dateTimeInfo);

                };

                //minutes elements parameters
                var dsnParmasMn = {
                    color: "#FFFFFF",
                    radius: 2
                };
                //minutes element rendering funciton 
                var fElmGeneratorMin = fElmConstant.bind(dsnParmasMn);

                var fRenderMin = function (dateTimeInfo) {

                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 200, /*outerRadius*/ 150, /*projected fnc*/f,
                            /*zoomX*/6.0, /*zoomY*/ 0.015, /*offsetAngleRad*/ Math.PI * 2 * currentMinProp - Math.PI / 2,
                            /*circElmFnc*/fElmGeneratorMin, /*time*/ dateTimeInfo);

                };


                //seconds element parameters
                var dsnParmatsSec = {
                    radiusNormal: 2,
                    radiusFullHr: 4,
                    dfltClr: "#FFFFFF"
                };
                //seconds element rendering function 

                fElmGeneratorSec = fCircElmNoColorHrSec.bind(dsnParmatsSec);
                var fRenderSec = function (dateTimeInfo) {

                    var curruentSecProp = (dateTimeInfo.getTime() % msIn1Min) / msIn1Min;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/33.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 220, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * curruentSecProp - Math.PI / 2,
                            /*circElmFnc*/fElmGeneratorSec, /*time*/ dateTimeInfo);

                };

                return startTicking3porjections(numPracitalPerSecond, panelName,
                        fRenderHr, fRenderMin, fRenderSec);

            }

            /**
             seconds dial at center and longest, and corsses 2 others. etc. 
             all are pointing out 
             * **/
            function start3CircCrossingAllOut(numPracitalPerSecond, panelName) {
                var center = [450, 250];

                var dsnParmatsHr = {
                    //radiusNormal: 2,
                    radiusNormal: 1.125,
                    radiusFullHr: 4,
                    dfltClr: "#FFFFFF",
                    dfltClr:"#000000"
                };
                var fHrElm = fCircElmNoColorHrSec.bind(dsnParmatsHr);

                var prmsMin = {
                    //color: "red",
                    radius: 1.5,
                    dfltClr: "#d2dbd5", 
                    //color:"#d2dbd5"
                    color:"#000000"
                };
                var fMinElm = fElmConstant.bind(prmsMin);

                var prmsSec = {
                    //color: "yellow",
                    //radius: 1.125,
                    radius: 2,
                    dfltClr: "#FFFFFF",
                    color:"#000000"
                };
                var fSecElm = fElmConstant.bind(prmsSec);


                var fRenderHr = function (dateTimeInfo) {
                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var currentHRProp = dateTimeInfo.getHours() / 12 + currentMinProp / 12;
                    var f = fCustom1(/*scaleX*/3.0, /*scaleY*/17.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 230, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * currentHRProp - Math.PI / 2,
                            /*circElmFnc*/fHrElm, /*time*/ dateTimeInfo);

                };

                var fRenderMin = function (dateTimeInfo) {

                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/50.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 215, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * currentMinProp - Math.PI / 2,
                            /*circElmFnc*/fMinElm, /*time*/ dateTimeInfo);

                };

                var fRenderSec = function (dateTimeInfo) {

                    var curruentSecProp = (dateTimeInfo.getTime() % msIn1Min) / msIn1Min;
                    var f = fCustom1(/*scaleX*/4.0, /*scaleY*/100.0, /*decay*/ 2);

                    pojectFunctionOnRadCrd(/*panelName */panelName, /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 200, /*projected fnc*/f,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ Math.PI * 2 * curruentSecProp - Math.PI / 2,
                            /*circElmFnc*/fSecElm, /*time*/ dateTimeInfo);

                };

                return startTicking3porjections(numPracitalPerSecond, panelName,
                        fRenderHr, fRenderMin, fRenderSec);

            }


            function startTicking3GsOn2(numPracitalPerSecond, panelName) {
                
                var center = [450, 250];
                var step = function () {
                    var dateTimeInfo = new Date();
                    var currentMinProp = dateTimeInfo.getMinutes() / 60;
                    var currentHRProp = dateTimeInfo.getHours() / 12 + currentMinProp / 12;
                    var curruentSecProp = (dateTimeInfo.getTime() % msIn1Min) / msIn1Min;
                    //gaus1
                    var context1 = {
                        width: 1.1,
                        height: 20
                    };
                    //a gaussian for the hours 
                    fHr = gausianBump.bind(context1);

                    //gaus2
                    var context2 = {
                        width: .5,
                        height: -40
                    };
                    
                    //a gaussian for the minutes
                    fMin = gausianBump.bind(context2);


                    //gaus3
                    var context3 = {
                        width: .5,
                        height: -20
                    };
                    
                    //a gaussian for the seconds 
                    fSec = gausianBump.bind(context3);
                    
                    
                    //both funcions and offsets array are in the order: hour, minute, second
                    var funcs = [fHr, fMin, fSec];
                    var correctOffset = -Math.PI / 2;
                    var offsets = [2 * Math.PI * currentMinProp + correctOffset, 2 * Math.PI * currentHRProp + correctOffset, 2 * Math.PI * curruentSecProp + correctOffset];


                    //element rendrer
                    context = {
                        color: "#FFFFFF",
                        radius: 1
                    };
                    //function fer rendering hour elements 
                    var fElmGenerator = fElmConstant.bind(context);

                    $("#" + panelName).empty();
                    pojectMultFunctionsOnRadCrd(/*panelName */"svg1", /*center */center,
                            /*numSections*/ 250, /*outerRadius*/ 175, /*projected fnc*/funcs,
                            /*zoomX*/8.0, /*zoomY*/ 0.02, /*offsetAngleRad*/ offsets,
                            /*circElmFnc*/fElmGenerator, /*time*/ null);
                };

                return setInterval(step, 1000 / numPracitalPerSecond);


            }
            
            
            //switch active view to masks container 
            function masksPanelOn(){
               $("#svgCont").hide(); 
               $("#masksContainer").show(); 
                
            }
            
            //switch active view to normal svg containter 
            function masksPanelOff(){
                $("#svgCont").show(); 
                $("#masksContainer").hide(); 
                
            }
            
            
            function startMasksClock(){
                clearInterval(interval);
                masksPanelOn();
                interval = startMaskTicking(); 
            }
            
           
    
            $("#btnMasks").click(startMasksClock);
            
            

            $("#btnSingeRing").click(function () {
                masksPanelOff();
                clearInterval(interval);
                interval = startTickingFCst1CheckClock(ticksPerSec, "svg1");
            });

            $("#btn3Rings").click(function () {
                masksPanelOff();
                clearInterval(interval);
                //interval = startTicking3porjections(11, "svg1");

                interval = start3CirclesTicking(ticksPerSec, "svg1");
            });


            $("#btnRingCrossing").click(function () {
                masksPanelOff();
                clearInterval(interval);
                //interval = startTicking3porjections(11, "svg1");

                interval = start3CircCrossingAllOut(ticksPerSec, "svg1");
            });

            $("#btnAccumalator").click(function () {
                masksPanelOff();
                clearInterval(interval);
                //interval = startTicking3porjections(11, "svg1");

                interval = startTicking3GsOn2(ticksPerSec, "svg1");
            });




            $("#stop").click(function () {
                clearInterval(interval);
            });
            
            
           


        </script>

    </body>
</html>


















a